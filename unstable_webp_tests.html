<!DOCTYPE html>
<html>
  <head>
    <title>slimmage webp</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style type="text/css">
      #halfsize      {max-width:50%; height: auto !important;}
      #fixedsize_155 {max-width:155px;}
      #fixedsize_315 {max-width:315px;}
    </style>

    <script>
      window.slimmage = {};
      window.slimmage.tryWebP = true; // Enable WebP (at least give it a try)
      window.slimmage.webpTimeout = 50;
    </script>

    <!--[if lte IE 8]> 
      <script type="text/javascript">
        //IE 8 and below need help with max-width
        window.slimmage.enforceCss = true;
      </script>
      <style type="text/css">
        img.halfsize      {height: auto !important;}
      </style>
    <![endif]-->
    
    <script type="text/javascript" src="http://rawgit.com/imazen/slimmage/unstable/slimmage.js"></script>

    <script>
            var s = window.slimmage;

        slimmage.readyCallback = function(){
          var half = document.getElementById("halfsize");
          var out = document.getElementById("output");
          out.innerHTML =  "img.halfsize width: " + s.getCssPixels(half, "width") + "px (" + s.getCssValue(half, "width") + ") <br />max-width: " + s.getCssPixels(half, "max-width") + "px (" + s.getCssValue(half, "max-width") + ")" + 

           "<br />height: " + s.getCssPixels(half, "height") + "px (" + s.getCssValue(half, "height") + ") <br />max-height: " + s.getCssPixels(half, "max-height") + "px (" + s.getCssValue(half, "max-height") + ")"
           ;
        };
    </script>
  </head>
  <body>
    <div id="container">
      <h2> Slimmage feature tests (webp) </h2>
      <noscript data-slimmage data-img-class="halfsize"  data-img-id="halfsize" data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="halfsize" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>

      <br />

      <noscript data-slimmage data-img-class="fixedsize_155" data-img-id="fixedsize_155"  data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="fixedsize_155" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>

      <br />

      <noscript data-slimmage data-img-class="fixedsize_315" data-img-id="fixedsize_315"  data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="fixedsize_315" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>
    </div>
    <div id="output"></div>

  </body>
</html>
