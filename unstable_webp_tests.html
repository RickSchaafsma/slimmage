<!DOCTYPE html>
<html>
  <head>
    <title>slimmage webp</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <style type="text/css">
      img.halfsize      {max-width:50%;}
      img.fixedsize_155 {max-width:155px;}
      img.fixedsize_315 {max-width:315px;}
    </style>


    <!-- IE 8 and below are max-width allergic -->
    <!--[if lte IE 8]> 
      <style type="text/css">
        #container{width:100%;overflow:hidden;}
        img.halfsize {width:auto !important; width:50%;}
        img.fixedsize_100 width:auto!important; width:100px;}
        img.fixedsize_200 {width:auto !important; width:200px;}
      </style>
    <![endif]-->

    <script type="text/javascript" src="http://rawgit.com/imazen/slimmage/unstable/slimmage.js"></script>
    <script type="text/javascript">
        var verifyThisWorks = [window.devicePixelRatio || 1, window.slimmage && window.slimmage.webp];
        var half = document.getElementById("halfsize");
        var out = document.getElementById("output");
        var s = window.slimmage;

        slimmage.readyCallback = function(){
          out.innerHTML =  "img.halfsize width: " + s.getCssPixels(hi, "width") + "px (" + s.getCssValue(hi, "width") + ") <br />maxwidth: " + s.getCssPixels(hi, "max-width") + "px (" + s.getCssValue(hi, "max-width") + ")";
        };
    </script>
  </head>
  <body>
    <div id="container">
      <h2> Slimmage feature tests (webp) </h2>
      <noscript data-slimmage data-img-class="halfsize"  data-img-id="halfsize" data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="halfsize" class="halfsize" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>

      <br />

      <noscript data-slimmage data-img-class="fixedsize_155" data-img-id="fixedsize_155"  data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="fixedsize_155" class="fixedsize_155" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>

      <br />

      <noscript data-slimmage data-img-class="fixedsize_315" data-img-id="fixedsize_315"  data-img-src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90">
        <img id="fixedsize_315" class="fixedsize_315" src="http://z.zr.io/ri/1s.jpg?width=150&amp;format=jpg&amp;quality=90" />
      </noscript>
    </div>

    <div id="output"></div>
  </body>
</html>
